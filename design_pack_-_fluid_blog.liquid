{%- comment -%}
{
  "pack_name": "Blog - fluid grid",
  "pack_author": "Design Packs",
  "license": "¬© Design Packs. All rights reserved. This code is protected by copyright law and may not be reproduced, distributed, or used without explicit permission from the author. Shopify complies with the Digital Millennium Copyright Act (DMCA) and responds to claims of copyright infringement using DMCA procedures, which could result in the termination of your Shopify account.",
}
{%- endcomment -%}

{% comment %} Security Code - hides section when app uninstalled {% endcomment %}
{%- unless content_for_header contains 'design_packs_file.js' -%}
  {%- if request.design_mode -%}
    <div class="dsgn-pck__no-app-warning">
      <div class="dsgn-pck__no-app-warning-background">
      </div>
      <div class="dsgn-pck__no-app-warning-text dsgn-pck__rte">
        <p><strong>WARNING!</strong> This premium section will not display properly without an active subscription for <a href="https://apps.shopify.com/design-packs" target="_blank" rel="noopener nofollow">Design Packs</a>. If you need any support please email <a href="mailto:info@design-packs.com" target="_blank" rel="noopener">info@design-packs.com</a> with your questions.</p>
      </div>
    </div>
  {%- endif -%}
  {%- break -%}
{%- endunless -%}

{%- comment -%} Assign: Preview section js fix {%- endcomment -%}
{%- assign section_id = section.id | replace: '+', '' | replace: '=', '' -%}

{% comment %} Content: check whether to automatically pull content {% endcomment %}
{% assign blog = blogs[section.settings.blog] | default: blog | default: blogs["news"] %}

{% comment %} Images: responsive image widths {% endcomment %}
{%- assign widths = '180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 1950, 2100, 2260, 2450, 2700, 3000, 3350, 3750, 4100' -%}

{%- comment -%} Layout: has user entered measurement value into max-width field? {%- endcomment -%}
{%- if section.settings.max_width contains 'px' or section.settings.max_width contains '%' -%}
  {%- assign max_width = section.settings.max_width -%}
{%- else -%}
  {%- assign max_width = section.settings.max_width | append: 'px' -%}
{%- endif -%}

{%- comment -%} Text: custom font_picker values {%- endcomment -%}
{%- capture font_settings_list -%}
{{ section.settings.main_font | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'style', 'italic' | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'style', 'italic' | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}
{%- endcapture -%}
{%- assign font_array = font_settings_list | split: '~' -%}

{%- capture minify -%}
{%- comment -%} CSS {%- endcomment -%}
<style>
{%- if section.settings.override_theme_font != blank -%}
  {%- for font in font_array -%}
    {%- unless font contains 'error' -%}{{ font }}{%- endunless -%}
  {%- endfor -%}
  .DP--{{ section_id }} {
    --main-font: {{ section.settings.main_font.family }}, {{ section.settings.main_font.fallback_families }};
    --main-font-weight: {{ section.settings.main_font.weight }};
    --main-font-style: {{ section.settings.main_font.style }};
    --heading-font: {{ section.settings.heading_font.family }}, {{ section.settings.heading_font.fallback_families }};
    --heading-font-weight: {{ section.settings.heading_font.weight }};
    --heading-font-style: {{ section.settings.heading_font.style }};
  }
{%- endif -%}

.DP--{{ section_id }} {
  background: {{ section.settings.background_color }};
  {%- if section.settings.show_gutter != blank -%}
    --gutter: 20px;
    --column-width: calc(33.333% - 20px);
  {%- else -%}
    --gutter: 0;
    --column-width: 33.333%;
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__page-header {
  padding-bottom: 2rem;
}

.DP--{{ section_id }} .dsgn-pck__heading {
  text-align: center;
  margin: 0;
  line-height: var(--dp-g-heading-line-height, var(--dp-heading-line-height, calc(3px + 2ex + 3px)));
  color: {{ section.settings.heading_color }};
  font-size: calc(var(--dp-g-heading-size, var(--dp-heading-size, 35px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--heading-font);
  font-weight: var(--heading-font-weight);
  font-style: var(--heading-font-style);
  {%- endif -%}
}

.dsgn-pck__pack_notification {
  color: {{ section.settings.heading_color }};
  line-height: var(--dp-g-body-line-height, var(--dp-body-line-height, calc(3px + 2.5ex + 3px)));
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__grid {
  gap: var(--gutter);
  grid-template-columns: repeat(auto-fit, minmax(var(--column-width), 1fr));
  grid-auto-rows: minmax(200px, auto);
  grid-auto-flow: dense;
}

.DP--{{ section_id }} .dsgn-pck__grid-item--horizontal  {
  grid-column: span 2;
  grid-row: span 1;
}

.DP--{{ section_id }}  .dsgn-pck__grid-item--vertical {
  grid-row: span 2;
}

.DP--{{ section_id }}  .dsgn-pck__grid-item--big {
  grid-column: span 2;
  grid-row: span 2;
}

.DP--{{ section_id }} .dsgn-pck__grid-item--small  {
  grid-column: span 1;
  grid-row: span 1;
}

.DP--{{ section_id }} .dsgn-pck__grid-item {
  position: relative;
  height: 100%;
  padding: 1.5em;
  overflow: hidden;
  cursor: pointer;
  background: {{ section.settings.article_background_color }};
}

.DP--{{ section_id }} .dsgn-pck__item img {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  object-fit: cover;
  /*transition: 0.4s ease-in-out;*/
  transition: 1.5s cubic-bezier(.25, .46, .45, .94);
}

.DP--{{ section_id }} .dsgn-pck__item:hover img {
  pointer-events: none;
  transform: scale(1.1);
}

.DP--{{ section_id }} .dsgn-pck__inner-content {
  pointer-events: none;
  height: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  text-align: center;
  position: relative;
  color: {{ section.settings.text_color }};
  background: {{ section.settings.text_background_color }};
  line-height: var(--dp-g-body-line-height, var(--dp-body-line-height, calc(3px + 2.5ex + 3px)));
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__date {
  align-self: flex-start;
  justify-content: center;
  padding: 10px 20px;
  aspect-ratio: 1;
  background: {{ section.settings.text_color }};
  color: {{ section.settings.date_color }};
  text-transform: uppercase;
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--heading-font);
  font-weight: var(--heading-font-weight);
  font-style: var(--heading-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__day {
  display: block;
  font-size: 30px;
  line-height: 1;
}

.DP--{{ section_id }} .dsgn-pck__month {
  display: block;
  font-size: 15px;
}

.DP--{{ section_id }} .dsgn-pck__text-content {
  width: 100%;
}

.DP--{{ section_id }} .dsgn-pck__text-inner-content {
  padding: 2em 1em;
  max-width: 450px;
  margin: 0 auto;
}

.DP--{{ section_id }} .dsgn-pck__small-heading {
  margin-bottom: 0.3em;
  pointer-events: all;
  line-height: var(--dp-g-small-heading-line-height, var(--dp-small-heading-line-height, calc(3px + 2ex + 3px)));
  color: {{ section.settings.text_color }};
  font-size: calc(var(--dp-g-small-heading-size, var(--dp-small-heading-size, 24px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--heading-font);
  font-weight: var(--heading-font-weight);
  font-style: var(--heading-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__author {
  pointer-events: all;
  color: {{ section.settings.text_color }};
  line-height: var(--dp-g-body-line-height, var(--dp-body-line-height, calc(3px + 2.5ex + 3px)));
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.008 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__excerpt {
  pointer-events: all;
  color: {{ section.settings.text_color }};
  line-height: var(--dp-g-body-line-height, var(--dp-body-line-height, calc(3px + 2.5ex + 3px)));
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__button {
  pointer-events: all;
  margin: 1em;
  display: inline-block;
  text-decoration: none;
  padding: var(--dp-button-padding, 0.3em 1.2em);
  border: thin solid;
  transition: all 0.3s;
  color: {{ section.settings.text_color }};
  border-color: {{ section.settings.text_color }};
  background-color: {{ section.settings.button_background_color }};
  line-height: var(--dp-g-button-line-height, var(--dp-button-line-height, calc(3px + 2ex + 3px)));
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__button:hover {
  background-color: {{ section.settings.text_color }};
  color: {{ section.settings.text_background_color }};
}

.DP--{{ section_id }} .dsgn-pck__pagination {
  text-align: center;
  margin-top: 1.5rem;
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__pagination .page {
  padding: 0.5em 1em;
  margin: 0 auto;
  transition: 0.3s;
  display: inline-block;
  border: 1px solid transparent;
}

.DP--{{ section_id }} .dsgn-pck__pagination .page:hover {
  border: 1px solid;
  font-style: italic;
}

.DP--{{ section_id }} .dsgn-pck__pagination .prev,
.DP--{{ section_id }} .dsgn-pck__pagination .next {
  padding: 1em;
}

.DP--{{ section_id }} .dsgn-pck__pagination .prev a,
.DP--{{ section_id }} .dsgn-pck__pagination .next a,
.DP--{{ section_id }} .dsgn-pck__pagination .page a {
  text-decoration: none;
  color: {{ section.settings.text_color }};
}

.DP--{{ section_id }} .dsgn-pck__pagination .current {
  border: 1px solid;
  font-style: italic;
}

.DP--{{ section_id }} .dsgn-pck__sizer {
  padding-top: {{ section.settings.inner_padding }}px;
  padding-bottom: {{ section.settings.inner_padding }}px;
  width: {{ section.settings.base_width }}%;
  max-width: {{ max_width }};
}

{%- if section.settings.custom_css != blank -%}
  {%- assign custom_section_declarations = section.settings.custom_css | split: '}' -%}
  {%- for declaration in custom_section_declarations -%}
    {%- if declaration contains '{' -%}
      #DP--{{ section_id }} {{ declaration }} }
    {%- endif -%}
  {%- endfor -%}
{%- endif -%}

/* Landscape phones and down */
@media (max-width: 480px) {
  .DP--{{ section_id }} .dsgn-pck__grid {
    grid-template-columns: 1fr 1fr;
    grid-auto-rows: minmax(100px, auto);
  }

  .DP--{{ section_id }} .dsgn-pck__grid-item--vertical {
    grid-column: span 2;
    grid-row: span 2;
  }
  .DP--{{ section_id }} .dsgn-pck__grid-item--horizontal {
    grid-column: span 2;
    grid-row: span 2;
  }
  .DP--{{ section_id }} .dsgn-pck__grid-item--big {
    grid-column: span 2;
    grid-row: span 2;
  }
  .DP--{{ section_id }} .dsgn-pck__grid-item--small {
    grid-column: span 2;
    grid-row: span 2;
  }

  .DP--{{ section_id }} .dsgn-pck__sizer {
    min-width: 70%;
    padding-top: {{ section.settings.inner_padding | divided_by: 2 }}px;
    padding-bottom: {{ section.settings.inner_padding | divided_by: 2 }}px;
  }

  {%- if section.settings.mobile_custom_css != blank -%}
    {%- assign mobile_custom_declarations = section.settings.mobile_custom_css | split: '}' -%}
    {%- for declaration in mobile_custom_declarations -%}
      {%- if declaration contains '{' -%}
        #DP--{{ section_id }} {{ declaration }} }
      {%- endif -%}
    {%- endfor -%}
  {%- endif -%}
}
</style>

{%- if blog == blank -%}
  <div class="dsgn-pck__justify-center">
    <p>Please choose blog to display content.</p>
  </div>
{%- else -%}

{%- comment -%} HTML {%- endcomment -%}
<section id="DP--{{ section_id }}" class="DP--{{ section_id }} dsgn-pck__blog-fluid-grid dsgn-pck__section {{ section.settings.custom_classes }}">
  {%- if section.settings.anchor_id != blank -%}
    <div id="{{ section.settings.anchor_id | remove: '#' | handleize }}" class="dsgn-pck__anchor-id" style="height: 0; overflow: hidden;"></div>
  {%- endif -%}
  <div class="dsgn-pck__sizer">
    <div class="dsgn-pck__grid dsgn-pck__grid--{{ section.settings.per_row }}-per-row">

      {%- if template.name == 'blog' -%}
        {% assign paginate_count = section.settings.per_page %}
      {%- else -%}
        {% assign limit = section.settings.per_page %}
      {%- endif -%}

      {% assign grid_values = section.settings.grid_style | split: ',' %}
      {% paginate blog.articles by paginate_count %}
        {% for article in blog.articles limit: limit %}
          {% assign cycle_index = forloop.index0 | modulo: grid_values.size %}
          <div class="dsgn-pck__grid-item--{{ grid_values[cycle_index] }} dsgn-pck__grid-item dsgn-pck__content dsgn-pck__item">
            <a href="{{ article.url }}" class="dsgn-pck__absolute-link">{{ article.title }}</a>
            {%- if article.image != blank -%}
              {{ article.image | image_url: width: 2800 | image_tag:  widths: widths, sizes: '(max-width: 480px) 100vw, 33vw' }}
            {%- endif -%}
            <div class="dsgn-pck__inner-content">
              {%- if section.settings.show_date -%}
                <div class="dsgn-pck__date">
                  <span class="dsgn-pck__day">{{ article.published_at | date: "%d" }}</span>
                  <span class="dsgn-pck__month">{{ article.published_at | date: "%b" }}</span>
                </div>
              {%- endif -%}
              <div class="dsgn-pck__text-content">
                <div class="dsgn-pck__text-inner-content">
                  <h3 class="dsgn-pck__small-heading">{{ article.title }}</h3>
                  {%- if section.settings.show_author -%}
                    <p class="dsgn-pck__author">{{ 'by' | t }} {{ article.author }}</p>
                  {%- endif -%}
                  {%- if section.settings.show_excerpt -%}
                    <p class="dsgn-pck__excerpt">{{ article.excerpt_or_content | strip_html | truncatewords: 15, '...' }}</p>
                  {%- endif -%}
                  {%- if section.settings.show_read_more -%}
                    <a href="{{ article.url }}" class="dsgn-pck__button">{{ 'read_more' | t }}</a>
                  {%- endif -%}
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
    </div>
    {% if paginate.pages > 1 and template contains 'blog' %}
      <div class="dsgn-pck__pagination">
        {{ paginate | default_pagination | replace: '&laquo; Previous', '&larr;' | replace: 'Next &raquo;', '&rarr;' }}
      </div>
    {% endif %}
  {% endpaginate %}

  </div>
</section>
{% endif %}
{%- endcapture -%}
{{ minify | strip_newlines }}

{% schema %}
{
  "name": "Blog posts - fluid grid",
  "class": "DP__blog-fluid-grid DP__shift",
  "settings": [
    {
      "type": "blog",
      "id": "blog",
      "label": "Blog",
      "info": "Not seeing any articles? Set a blog here."
    },
    {
      "type": "select",
      "id": "grid_style",
      "label": "Style",
      "default": "vertical,horizontal,big,small",
      "options": [
        {
          "label": "Grid 1",
          "value": "vertical,horizontal,small,small"
        },
        {
          "label": "Grid 2",
          "value": "vertical,big,horizontal,small"
        },
        {
          "label": "Grid 3",
          "value": "vertical,horizontal,big,small"
        },
        {
          "label": "Grid 4",
          "value": "big,small,small,small,small,small,small,small"
        },
        {
          "label": "Grid 5",
          "value": "small,small,small,small"
        }
      ]
    },
    {
      "type": "range",
      "id": "per_page",
      "label": "Posts per page",
      "min": 1,
      "max": 25,
      "step": 1,
      "default": 4
    },
    {
      "type": "checkbox",
      "id": "show_gutter",
      "label": "Show gutter",
      "default": true
    },
    {
      "type": "header",
      "content": "Blog posts"
    },
    {
      "type": "checkbox",
      "id": "show_date",
      "label": "Show date",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_author",
      "label": "Show author",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_excerpt",
      "label": "Show excerpt",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_read_more",
      "label": "Show read more",
      "default": true
    },
    {
      "type": "header",
      "content": "‚úèÔ∏è Text appearance"
    },
    {
      "type": "range",
      "id": "text_size",
      "label": "Text size",
      "min": 80,
      "max": 120,
      "step": 5,
      "default": 100,
      "unit": "%"
    },
    {
      "type": "header",
      "content": "üé® Design"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading",
      "default": "#3A3A3A"
    },
    {
      "type": "color",
      "id": "date_color",
      "label": "Date",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#3A3A3A"
    },
    {
      "type": "color_background",
      "id": "text_background_color",
      "label": "Text background",
      "default": "radial-gradient(rgba(255, 255, 255, 0.9) 39%, rgba(255, 255, 255, 0.5) 100%)"
    },
    {
      "type": "color_background",
      "id": "article_background_color",
      "label": "Blog post background",
      "default": "linear-gradient(57deg, rgba(37, 56, 60, 1) 8%, rgba(95, 99, 100, 1) 47%, rgba(166, 167, 166, 1) 83%)",
      "info": "Used when there is no featured article image."
    },
    {
      "type": "color_background",
      "id": "background_color",
      "label": "Background"
    },
    {
      "type": "header",
      "content": "üñº Layout"
    },
    {
      "type": "range",
      "id": "base_width",
      "label": "Size",
      "min": 60,
      "max": 100,
      "step": 5,
      "default": 95,
      "unit": "%"
    },
    {
      "type": "text",
      "id": "max_width",
      "label": "Maximum width",
      "placeholder": "eg. 1200px",
      "info": "Sets width constraint for content.",
      "default": "1000"
    },
    {
      "type": "range",
      "id": "inner_padding",
      "label": "Inner padding",
      "info": "Only applies to top and bottom.",
      "min": 0,
      "max": 100,
      "default": 40,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "üö® Advanced"
    },
    {
      "type": "liquid",
      "id": "custom_css",
      "label": "CSS"
    },
    {
      "type": "liquid",
      "id": "mobile_custom_css",
      "label": "Mobile CSS",
      "info": "Applied on screens less than 480px."
    },
    {
      "type": "text",
      "id": "anchor_id",
      "label": "Link anchor id",
      "placeholder": "#design-pack-section",
      "info": "Enter a unique value to jump to this section from same page using a link or button. Eg. #design-pack-section [Learn more](https://app.gitbook.com/o/UwqKbTxsdQExehd4SSPM/s/iJpf70jLagzGk8zoz4fu/fundamentals/how-to-guides/how-to-jump-link-to-another-section-on-the-same-page)"
    },
    {
      "type": "text",
      "id": "custom_classes",
      "label": "Custom classes",
      "placeholder": "my-custom-class my-custom-class--2",
      "info": "Add your own CSS classes to section. Eg. my-custom-class my-custom-class--2 [Learn more](https://design-packs.gitbook.io/docs/fundamentals/settings/custom-classes-setting)"
    },
    {
      "type": "checkbox",
      "id": "override_theme_font",
      "label": "Override default theme font",
      "default": false
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Headings",
      "default": "serif"
    },
    {
      "type": "font_picker",
      "id": "main_font",
      "label": "Text",
      "default": "sans-serif"
    }
  ],
  "locales": {
    "en": {
      "read_more": "Read more",
      "by": "By",
      "filter_by": "Filter by",
      "all_topics": "All topics"
    }
  },
  "presets": [
    {
      "name": "Blog posts - fluid grid üéí",
      "blocks": [

      ]
    }
  ]
}
{% endschema %}
