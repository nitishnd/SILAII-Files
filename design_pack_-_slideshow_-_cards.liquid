{%- comment -%}
{
  "pack_name": "Slideshow - cards",
  "pack_author": "Design Packs",
  "license": "¬© Design Packs. All rights reserved. This code is protected by copyright law and may not be reproduced, distributed, or used without explicit permission from the author. Shopify complies with the Digital Millennium Copyright Act (DMCA) and responds to claims of copyright infringement using DMCA procedures, which could result in the termination of your Shopify account.",
}
{%- endcomment -%}

{% comment %} Security Code - hides section when app uninstalled {% endcomment %}
{%- unless content_for_header contains 'design_packs_file.js' -%}
  {%- if request.design_mode -%}
    <div class="dsgn-pck__no-app-warning">
      <div class="dsgn-pck__no-app-warning-background">
      </div>
      <div class="dsgn-pck__no-app-warning-text dsgn-pck__rte">
        <p><strong>WARNING!</strong> This premium section will not display properly without an active subscription for <a href="https://apps.shopify.com/design-packs" target="_blank" rel="noopener nofollow">Design Packs</a>. If you need any support please email <a href="mailto:info@design-packs.com" target="_blank" rel="noopener">info@design-packs.com</a> with your questions.</p>
      </div>
    </div>
  {%- endif -%}
  {%- break -%}
{%- endunless -%}

{%- comment -%} Assign: Preview section js fix {%- endcomment -%}
{%- assign section_id = section.id | replace: '+', '' | replace: '=', '' -%}

{% comment %} Images: responsive image widths {% endcomment %}
{%- assign widths = '180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 1950, 2100, 2260, 2450, 2700, 3000, 3350, 3750, 4100' -%}

{%- comment -%} Layout: has user entered measurement value into max-width field? {%- endcomment -%}
{%- if section.settings.max_width contains 'px' or section.settings.max_width contains '%' -%}
  {%- assign max_width = section.settings.max_width -%}
{%- else -%}
  {%- assign max_width = section.settings.max_width | append: 'px' -%}
{%- endif -%}

{%- comment -%} Text: custom font_picker values {%- endcomment -%}
{%- capture font_settings_list -%}
{{ section.settings.main_font | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}~
{{ section.settings.main_font | font_modify: 'style', 'italic' | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'style', 'italic' | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}
{%- endcapture -%}
{%- assign font_array = font_settings_list | split: '~' -%}

{%- capture minify -%}
{%- comment -%} CSS {%- endcomment -%}
<style>
/*! Flickity v2.2.2
https://flickity.metafizzy.co
---------------------------------------------- */
.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0;box-shadow: none;}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-button{position:absolute;background:hsla(0,0%,100%,.75);border:none;color:#333}.flickity-button:hover{background:#fff;cursor:pointer}.flickity-button:focus{outline:0;box-shadow:0 0 0 5px #19f}.flickity-button:active{opacity:.6}.flickity-button:disabled{opacity:.3;cursor:auto;pointer-events:none}.flickity-button-icon{fill:currentColor}.flickity-prev-next-button{top:50%;width:44px;height:44px;border-radius:50%;transform:translateY(-50%)}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button .flickity-button-icon{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}

{%- if section.settings.override_theme_font != blank -%}
  {%- for font in font_array -%}
    {%- unless font contains 'error' -%}{{ font }}{%- endunless -%}
  {%- endfor -%}
  .DP--{{ section_id }} {
    --main-font: {{ section.settings.main_font.family }}, {{ section.settings.main_font.fallback_families }};
    --main-font-weight: {{ section.settings.main_font.weight }};
    --main-font-style: {{ section.settings.main_font.style }};
    --heading-font: {{ section.settings.heading_font.family }}, {{ section.settings.heading_font.fallback_families }};
    --heading-font-weight: {{ section.settings.heading_font.weight }};
    --heading-font-style: {{ section.settings.heading_font.style }};
  }
{%- endif -%}

.DP--{{ section_id }} {
  margin-top: {{ section.settings.outer_margin }}px;
  margin-bottom: {{ section.settings.outer_margin }}px;
  background: {{ section.settings.background_color }};
  overflow: visible;
  --selected-attraction: 0.025;
  --friction: 0.5;
  --free-scroll-friction: 0.075;
  --draggable: true;
  --drag-threshold: 3;
  --initial-index: 1;
}

.DP--{{ section_id }} .dsgn-pck__sizer {
  width: {{ section.settings.base_width }}%;
  max-width: {{ max_width }};
  padding-top: {{ section.settings.inner_padding }}px;
  padding-bottom: {{ section.settings.inner_padding }}px;
}

.DP--{{ section_id }} .dsgn-pck__background {
  width: 100%;
}

.DP--{{ section_id }} .dsgn-pck__slide picture::after {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
  z-index: 1;
}

.DP--{{ section_id }} .dsgn-pck__slide {
  width: 60%;
  transition: .3s;
  margin-top: 100px;
  margin-bottom: 100px;
  position: relative;
  z-index: -1;
  display: flex;
  align-items: center;
}

.DP--{{ section_id }} .dsgn-pck__slide:not(.is-selected) a {
  pointer-events: none;
}

.DP--{{ section_id }} .dsgn-pck__image__wrapper {
  width: 100%;
  transform: scale(1);
  position: relative;
  z-index: -1;
  transition: all 0.2s;
  opacity: 0.7;
}

.DP--{{ section_id }} .is-selected .dsgn-pck__image__wrapper {
  z-index: 2;
  opacity: 1;
  transform: scale(1.2);
  transform-origin: center;
  box-shadow: 1px 1px 10px rgba(0,0,0,0.3);
}

.DP--{{ section_id }} .is-selected {
  z-index: 2;
  transition: all 0.2s;
}

.DP--{{ section_id }} .dsgn-pck__inner-sizer {
  margin-left: auto;
  margin-right: auto;
  width: 85%;
}

.DP--{{ section_id }} .dsgn-pck__grid {
  height: 100%;
}

.DP--{{ section_id }} .dsgn-pck__content {
  z-index: 2;
  height: 100%;
  grid-template-columns: 1fr;
  grid-area: 1 / 1 / 2 / 2;
  padding: 5% 0;
}

.DP--{{ section_id }} .dsgn-pck__inner-content {
  z-index: 2;
  width: 100%;
}

.DP--{{ section_id }} .dsgn-pck__small-text {
  color: {{ section.settings.text_color }};
  line-height: var(--dp-g-body-line-height, var(--dp-body-line-height, calc(3px + 2ex + 3px)));
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.008 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__heading {
  margin: 0;
  color: {{ section.settings.text_color }};
  line-height: var(--dp-g-heading-line-height, var(--dp-heading-line-height, calc(3px + 2ex + 3px)));
  font-size: calc(var(--dp-g-heading-size, var(--dp-heading-size, 35px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--heading-font);
  font-weight: var(--heading-font-weight);
  font-style: var(--heading-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__rte p,
.DP--{{ section_id }} .dsgn-pck__rte ul {
  line-height: var(--dp-g-body-line-height, var(--dp-body-line-height, calc(3px + 2.5ex + 3px)));
  color: {{ section.settings.text_color }};
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

.DP--{{ section_id }} .dsgn-pck__small-text p,
.DP--{{ section_id }} .dsgn-pck__small-text ul {
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.008 }});
}

{%- if section.settings.text_alignment == 'center' -%}
  .DP--{{ section_id }} .dsgn-pck__rte ul {
    display: table;
    margin: 0 auto;
    text-align: left;
  }
{%- elsif section.settings.text_alignment == 'right' -%}
  .DP--{{ section_id }} .dsgn-pck__rte ul {
    display: table;
    margin-left: auto;
    text-align: left;
  }
{%- endif -%}

.DP--{{ section_id }} .dsgn-pck__block {
  color: {{ section.settings.text_color }};
}

.DP--{{ section_id }} .dsgn-pck__block + .dsgn-pck__block {
  margin-top: 15px;
}

.DP--{{ section_id }} .dsgn-pck__button {
  display: inline-block;
  text-decoration: none;
  padding: var(--dp-button-padding, 0.5em 1.2em);
  transition: all 0.3s;
  border-radius: {{ section.settings.button_radius }}px;
  line-height: var(--dp-g-button-line-height, var(--dp-button-line-height, calc(3px + 2ex + 3px)));
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

/* Slideshow styles */

.DP--{{ section_id }} .flickity-page-dots {
  position: static;
}

.DP--{{ section_id }} .flickity-page-dots .dot {
  transition: all 0.3s ease-in-out;
}

.DP--{{ section_id }} .dsgn-pck__slider:not(.flickity-enabled) {
  opacity: 0;
}

.DP--{{ section_id }} .dsgn-pck__slider:not(.flickity-enabled) .dsgn-pck__slide:nth-child(n+4) {
  display: none;
}

.DP--{{ section_id }} .dsgn-pck__slider:not(.flickity-enabled) .dsgn-pck__slide:nth-child(2) .dsgn-pck__image__wrapper {
  position: relative;
  z-index: 2;
  opacity: 1;
  transform: scale(1.2);
  transform-origin: center;
  box-shadow: 1px 1px 10px rgba(0,0,0,0.3);
}

.DP--{{ section_id }} .dsgn-pck__slider:not(.flickity-enabled) .dsgn-pck__slide {
  z-index: initial;
}

.DP--{{ section_id }} .flickity-button {
  background: transparent;
  transition: all 0.3s ease-in-out;
}

.DP--{{ section_id }} .flickity-prev-next-button {
  width: 10%;
  height: 70%;
  opacity: 0;
}

{%- if section.settings.custom_css != blank -%}
  {%- assign custom_section_declarations = section.settings.custom_css | split: '}' -%}
  {%- for declaration in custom_section_declarations -%}
    {%- if declaration contains '{' -%}
      #DP--{{ section_id }} {{ declaration }} }
    {%- endif -%}
  {%- endfor -%}
{%- endif -%}

/* Landscape phones and down */
@media (max-width: 480px) {

  .DP--{{ section_id }} {
    --drag-threshold: 10;
    margin-top: {{ section.settings.outer_margin | divided_by: 2 }}px;
    margin-bottom: {{ section.settings.outer_margin | divided_by: 2 }}px;
  }

  .DP--{{ section_id }} .dsgn-pck__sizer {
    min-width: 100%;
    padding-top: {{ section.settings.inner_padding | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.inner_padding | times: 0.75 | round: 0 }}px;
  }

  .DP--{{ section_id }} .dsgn-pck__slide {
    width: 70%;
  }

  {%- if section.settings.mobile_custom_css != blank -%}
    {%- assign mobile_custom_declarations = section.settings.mobile_custom_css | split: '}' -%}
    {%- for declaration in mobile_custom_declarations -%}
      {%- if declaration contains '{' -%}
        #DP--{{ section_id }} {{ declaration }} }
      {%- endif -%}
    {%- endfor -%}
  {%- endif -%}
}
</style>

{%- comment -%} HTML {%- endcomment -%}
<section id="DP--{{ section_id }}" class="DP--{{ section_id }} dsgn-pck__slideshow dsgn-pck__section">
  {%- if section.settings.anchor_id != blank -%}
    <div id="{{ section.settings.anchor_id | remove: '#' | handleize }}" class="dsgn-pck__anchor-id" style="height: 0; overflow: hidden;"></div>
  {%- endif -%}
  <div id="slideshow-{{ section_id }}" class="dsgn-pck__sizer dsgn-pck__slider">
      {%- for block in section.blocks -%}
        {%- comment -%} Color: check if color is set to transparent {%- endcomment -%}
        {%- assign button_alpha = block.settings.button_background_color | color_extract: 'alpha' -%}
        {% comment %} Color: check for gradient picker {% endcomment %}
        {%- capture text_background_color -%}
          {%- if block.settings.text_background_color contains 'gradient' -%}
            {{ block.settings.text_background_color }}
          {%- else -%}
            {% unless block.settings.text_background_color contains 'rgba' %}
              {{ block.settings.text_background_color | color_modify: 'alpha', 0.4 }}
            {% endunless %}
          {%- endif -%}
        {%- endcapture -%}

        {% comment %} Color: check for gradient picker {% endcomment %}
        {%- capture background_color -%}
          {%- if block.settings.background_color contains 'gradient' -%}
            {{ block.settings.background_color }}
          {%- else -%}
            {% unless block.settings.background_color contains 'rgba' %}
              {{ block.settings.background_color | color_modify: 'alpha', 0.6 }}
            {% endunless %}
          {%- endif -%}
        {%- endcapture -%}

        {%- comment -%} Images: all placeholders {%- endcomment -%}
        {%- assign placeholder_image_id_1 = 'OtXADkUh3-I' -%}
        {%- assign placeholder_image_id_2 = 'MG4G0congO0' -%}
        {%- assign placeholder_image_id_default = '2r2RUsEU1Aw' -%}
        {%- capture placeholder_image_id -%}
          {%- case forloop.index -%}
            {%- when 1 -%}
              {{ placeholder_image_id_1 }}
            {%- when 2 -%}
              {{ placeholder_image_id_2 }}
            {%- else -%}
              {{ placeholder_image_id_default }}
          {%- endcase -%}
        {%- endcapture -%}

        {%- comment -%} Images: check image crop aspect ratio {%- endcomment -%}
        {%- if section.settings.image_crop == 'none' -%}
          {%- assign image_crop_width = block.settings.background_image.width | default: '1600' -%}
          {%- assign image_crop_height = block.settings.background_image.height | default: '900' -%}
        {%- else -%}
          {%- assign image_crop_width = section.settings.image_crop | split: ':' | first | times: 1000 -%}
          {%- assign image_crop_height = section.settings.image_crop | split: ':' | last | times: 1000 -%}
        {%- endif -%}

        {%- assign mobile_image_crop_width = block.settings.mobile_background_image.width | default: image_crop_width -%}
        {%- assign mobile_image_crop_height = block.settings.mobile_background_image.height | default: image_crop_height -%}

        {%- comment -%} Text: check text position {%- endcomment -%}
        {%- assign horizontal_text_position = block.settings.text_position | split: ' ' | first -%}
        {%- assign vertical_text_position = block.settings.text_position | split: ' ' | last -%}
        <div id="DP--{{ block.id }}" class="dsgn-pck__block-id-{{ block.id }} dsgn-pck__slide dsgn-pck__background" {{ block.shopify_attributes }} data-slideshow-index="{{ forloop.index0 }}">
          {%- if section.settings.link != blank and section.settings.button_label == blank -%}
            <a class="dsgn-pck__absolute-link" href="{{ section.settings.link }}">{{ section.settings.link.title }}</a>
          {% endif %}
          <style>
            .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__inner-content {
              max-width: {{ block.settings.text_width }}px;
              color: {{ block.settings.text_color }};
              background: {{ text_background_color }};
              padding: {%- if block.settings.text_background_color != blank -%}clamp(10px, 5%, 40px){%- endif -%};
            }

            .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__button {
              color: {{ block.settings.button_label_color }};
              background-color: {{ block.settings.button_background_color }};
              border: thin solid;
              border-color: {%- if button_alpha != 0 -%}{{ block.settings.button_background_color }}{%- else -%}{{ block.settings.button_label_color }}{%- endif -%};
            }

            .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__button:hover {
              {%- if button_alpha != 0 -%}
              background-color: {{ block.settings.button_background_color | color_modify: 'alpha', 0.8 }};
              border-color: transparent;
              {%- else -%}
              background-color: {{ block.settings.button_label_color | color_modify: 'alpha', 0.1 }}
              {%- endif -%};
            }

            .dsgn-pck__block-id-{{ block.id }} picture::after {
              background: {{ background_color }};
            }

          </style>
          <div class="dsgn-pck__image__wrapper">
            <svg class="dsgn-pck__mobile--hidden" viewBox="0 0 {{ image_crop_width }} {{ image_crop_height }}"></svg>
            <svg class="dsgn-pck__mobile--visible dsgn-pck__desktop--hidden" viewBox="0 0 {{ mobile_image_crop_width }} {{ mobile_image_crop_height }}"></svg>
            <picture>
            {%- if block.settings.background_image != blank -%}
              {%- if block.settings.mobile_background_image != blank -%}
                <source media="(max-width: 480px)" srcset="{{ block.settings.mobile_background_image | image_url: width: 960 }}">
              {%- endif -%}
                {{ block.settings.background_image | image_url: width: 5000 | image_tag:  widths: widths, sizes: '100vw' }}
            {%- else -%}
              <img src="https://cdn.shopify.com/s/files/1/0577/7673/4361/files/{{ placeholder_image_id }}_1600x.jpg"
                  alt=""
                  height="900"
                  width="1600"
                  loading="lazy">
            {%- endif -%}
            </picture>
            <div class="dsgn-pck__inner-sizer dsgn-pck__grid">
              <div class="dsgn-pck__content dsgn-pck__flex dsgn-pck__justify-{{ horizontal_text_position }} dsgn-pck__align-{{ vertical_text_position }} dsgn-pck__text-alignment-{{ block.settings.text_alignment }}">
                {%- if block.settings.link != blank -%}
                  <a class="dsgn-pck__absolute-link" href="{{ block.settings.link }}">{{ block.settings.background_image.alt }}</a>
                {% endif %}
                <div class="dsgn-pck__inner-content dsgn-pck__relative">
                  {% if block.settings.inset_image != blank %}
                    <style>
                      .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__inset-image .dsgn-pck__image__wrapper {
                        width: min(50%, 300px);
                        display: inline-block;
                      }

                      .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__inset-image svg {
                        width: 100%;
                      }

                      .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__inset-image path {
                        fill: {{ section.settings.text_color }};
                      }

                      .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__inset-image img {
                        width: 100%;
                        object-fit: contain;
                      }
                    </style>
                    <div class="dsgn-pck__block">
                      <div class="dsgn-pck__inset-image dsgn-pck__flex dsgn-pck__justify-{{ section.settings.text_alignment }}">
                        <div class="dsgn-pck__image__wrapper">
                          <svg viewBox="0 0 {{ block.settings.inset_image.width }} {{ block.settings.inset_image.height }}"></svg>
                          {{ block.settings.inset_image | image_url: width: 1000 | image_tag: loading: 'lazy' }}
                        </div>
                      </div>
                    </div>

                  {% endif %}
                  {%- if block.settings.title != blank -%}
                    <div class="dsgn-pck__block">
                      <h2 class="dsgn-pck__heading">
                        {{ block.settings.title }}
                      </h2>
                    </div>
                  {%- endif -%}
                  {%- if block.settings.text != blank -%}
                    <div class="dsgn-pck__block">
                      <div class="dsgn-pck__text dsgn-pck__rte">
                        {{ block.settings.text }}
                      </div>
                    </div>
                  {%- endif -%}
                  {%- if block.settings.button_label != blank -%}
                    <div class="dsgn-pck__block">
                      <a class="dsgn-pck__button" {%- if block.settings.link != blank -%}href="{{ block.settings.link }}"{%- endif -%}>{{ block.settings.button_label }}</a>
                    </div>
                  {%- endif -%}
                </div>
              </div>
            </div>
          </div>
        </div>
      {%- endfor -%}
  </div>
</section>
{%- endcapture -%}
{{ minify | strip_newlines }}

{% schema %}
{
  "name": "Slideshow - cards",
  "class": "DP__slideshow-cards",
  "settings": [
    {
      "type": "select",
      "id": "image_crop",
      "label": "Image aspect ratio",
      "default": "1:1",
      "options": [
        {
          "value": "4:3",
          "label": "Landscape (4:3)"
        },
        {
          "value": "2:3",
          "label": "Portrait (2:3)"
        },
        {
          "value": "1:1",
          "label": "Square (1:1)"
        },
        {
          "value": "none",
          "label": "Original"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "show_dots",
      "label": "Show navigation dots",
      "default": true
    },
    {
      "type": "range",
      "id": "autoplay",
      "label": "Change slide every",
      "min": 0,
      "max": 12,
      "step": 1,
      "default": 8,
      "unit": "sec",
      "info": "Set to '0' to disable autoplay"
    },
    {
      "type": "header",
      "content": "‚úèÔ∏è Text appearance"
    },
    {
      "type": "range",
      "id": "text_size",
      "label": "Text size",
      "min": 70,
      "max": 120,
      "step": 5,
      "default": 80,
      "unit": "%"
    },
    {
      "type": "header",
      "content": "üé® Design"
    },
    {
      "type": "color_background",
      "id": "background_color",
      "label": "Background",
      "default": "linear-gradient(136deg, rgba(191, 122, 122, 1) 11%, rgba(250, 241, 233, 1) 84%)"
    },
    {
      "type": "range",
      "id": "button_radius",
      "label": "Button border radius",
      "min": 0,
      "max": 50,
      "default": 0,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "üñº Layout"
    },
    {
      "type": "range",
      "id": "base_width",
      "label": "Size",
      "min": 60,
      "max": 100,
      "step": 5,
      "default": 80,
      "unit": "%"
    },
    {
      "type": "text",
      "id": "max_width",
      "label": "Maximum width",
      "placeholder": "eg. 1200px",
      "default": "1000px",
      "info": "Sets width constraint. Prevents content from moving too far to the edge on large screens."
    },
    {
      "type": "range",
      "id": "inner_padding",
      "label": "Inner padding",
      "info": "Only applies to top and bottom.",
      "min": 0,
      "max": 100,
      "default": 60,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "outer_margin",
      "label": "Outer margin",
      "info": "Only applies to top and bottom.",
      "min": 0,
      "max": 100,
      "default": 0,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "üö® Advanced"
    },
    {
      "type": "liquid",
      "id": "custom_css",
      "label": "CSS"
    },
    {
      "type": "liquid",
      "id": "mobile_custom_css",
      "label": "Mobile CSS",
      "info": "Applied on screens less than 480px."
    },
    {
      "type": "text",
      "id": "anchor_id",
      "label": "Link anchor id",
      "placeholder": "#design-pack-section",
      "info": "Enter a unique value to jump to this section from same page using a link or button. Eg. #design-pack-section [Learn more](https://app.gitbook.com/o/UwqKbTxsdQExehd4SSPM/s/iJpf70jLagzGk8zoz4fu/fundamentals/how-to-guides/how-to-jump-link-to-another-section-on-the-same-page)"
    },
    {
      "type": "checkbox",
      "id": "override_theme_font",
      "label": "Override default theme font",
      "default": false
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Headings",
      "default": "serif"
    },
    {
      "type": "font_picker",
      "id": "main_font",
      "label": "Text",
      "default": "sans-serif"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "background_image",
          "label": "Image"
        },
        {
          "type": "header",
          "content": "üì± Mobile"
        },
        {
          "type": "image_picker",
          "id": "mobile_background_image",
          "label": "Mobile image"
        },
        {
          "type": "header",
          "content": "Slide content"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "New Slide"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button",
          "default": "Learn more"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "select",
          "id": "text_alignment",
          "label": "Text alignment",
          "default": "left",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            },
            {
              "value": "justify",
              "label": "Justify"
            }
          ]
        },
        {
          "type": "select",
          "id": "text_position",
          "label": "Text position",
          "default": "left center",
          "options": [
            {
              "value": "left top",
              "label": "Top left"
            },
            {
              "value": "center top",
              "label": "Top center"
            },
            {
              "value": "right top",
              "label": "Top right"
            },
            {
              "value": "left center",
              "label": "Left"
            },
            {
              "value": "center center",
              "label": "Center"
            },
            {
              "value": "right center",
              "label": "Right"
            },
            {
              "value": "left bottom",
              "label": "Bottom left"
            },
            {
              "value": "center bottom",
              "label": "Bottom center"
            },
            {
              "value": "right bottom",
              "label": "Bottom right"
            }
          ]
        },
        {
          "type": "range",
          "id": "text_width",
          "label": "Text box width",
          "min": 400,
          "max": 1000,
          "step": 10,
          "default": 600,
          "unit": "px"
        },
        {
          "type": "header",
          "content": "üé® Design"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text",
          "default": "#FFFFFF"
        },
        {
          "type": "color_background",
          "id": "text_background_color",
          "label": "Text background"
        },
        {
          "type": "color",
          "id": "button_label_color",
          "label": "Button label",
          "default": "#FFFFFF"
        },
        {
          "type": "color",
          "id": "button_background_color",
          "label": "Button background",
          "default": "#283144"
        },
        {
          "type": "color_background",
          "id": "background_color",
          "label": "Image overlay",
          "default": "radial-gradient(rgba(0, 0, 0, 0.4) 100%, rgba(0, 0, 0, 0.4) 100%)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Slideshow - cards üéí",
      "settings": {
        "image_crop": "1:1",
        "autoplay": 8,
        "text_size": 80,
        "background_color": "",
        "button_radius": 0,
        "base_width": 85,
        "max_width": "1000px",
        "inner_padding": 60,
        "outer_margin": 0,
        "custom_css": "",
        "mobile_custom_css": "",
        "override_theme_font": false,
        "heading_font": "serif",
        "main_font": "sans-serif"
      },
      "blocks": [
        {
          "type": "slide",
          "settings": {
            "title": "Slideshow Cards",
            "text": "<p>Use this section to feature products or collections in a layout that both intrigues and delights.<\/p>",
            "button_label": "Learn more",
            "link": "",
            "text_alignment": "center",
            "text_position": "center center",
            "text_width": 500,
            "text_color": "#ffffff",
            "text_background_color": "",
            "button_label_color": "#ffffff",
            "button_background_color": "rgba(0,0,0,0)",
            "background_color": "radial-gradient(rgba(0, 0, 0, 0.4) 100%, rgba(0, 0, 0, 0.4) 100%)"
          }
        },
        {
          "type": "slide",
          "settings": {
            "title": "Responsive Layout",
            "text": "<p>Use different images on desktop vs mobile.<\/p>",
            "button_label": "Shop Now",
            "link": "",
            "text_alignment": "center",
            "text_position": "center center",
            "text_width": 600,
            "text_color": "#ffffff",
            "text_background_color": "",
            "button_label_color": "#ffffff",
            "button_background_color": "rgba(0,0,0,0)",
            "background_color": "radial-gradient(rgba(0, 0, 0, 0.4) 100%, rgba(255, 255, 255, 0.4) 100%)"
          }
        },
        {
          "type": "slide",
          "settings": {
            "title": "Aspect Ratios",
            "text": "<p>Choose between several options to display your images.<\/p>",
            "button_label": "Learn more",
            "link": "",
            "text_alignment": "center",
            "text_position": "center center",
            "text_width": 600,
            "text_color": "#ffffff",
            "text_background_color": "",
            "button_label_color": "#ffffff",
            "button_background_color": "rgba(0,0,0,0)",
            "background_color": "radial-gradient(rgba(0, 0, 0, 0.4) 100%, rgba(0, 0, 0, 0.4) 100%)"
          }
        }
      ]
    }
  ]
}
{% endschema %}
{%- comment -%} JSON Settings {%- endcomment -%}
<script type="application/json" data-dsgn-pck="{{ section_id }}">
  {
    "id": {{ section_id | json }},
    "show_dots": {{ section.settings.show_dots | json }},
    "autoplay": {{ section.settings.autoplay | times: 1000 | json }}
  }
</script>
{%- comment -%} External scripts {%- endcomment -%}
<script data-dsgn-pck-external-js="{{ section_id }}" src="https://cdn.shopify.com/s/files/1/0577/7673/4361/files/flickity-2.3.0.pkgd.min.js?v=1671485005" defer></script>
{%- comment -%} JavaScript {%- endcomment -%}
<script data-dsgn-pck-js="{{ section_id }}" type="module" defer>
(function(){

  const designPack = {
    settings: {},
    goToSlide: function(index){
      designPack.flkty.select( index, true, true )
    },
    load: function(section){

      const elem = section.querySelector(`#slideshow-${designPack.settings.id}`);
      designPack.flkty = new Flickity( elem, {
        cellAlign: 'center',
        autoPlay: this.settings.autoplay,
        wrapAround: false,
        adaptiveHeight: true,
        imagesLoaded: true,
        prevNextButtons: true,
        pageDots: this.settings.show_dots,
        initialIndex: JSON.parse(getComputedStyle(section).getPropertyValue('--initial-index')),
        draggable: JSON.parse(getComputedStyle(section).getPropertyValue('--draggable')),
        freeScrollFriction: getComputedStyle(section).getPropertyValue('--free-scroll-friction'),
        selectedAttraction: getComputedStyle(section).getPropertyValue('--selected-attraction'),
        friction: getComputedStyle(section).getPropertyValue('--friction'),
        dragThreshold: getComputedStyle(section).getPropertyValue('--drag-threshold')
      });

    },
    unload: function(section){
      designPack.flkty.destroy();
    }
  }

  window.addEventListener('shopify:section:unload', function (e) {
    const settings = document.querySelector(`[data-dsgn-pck="${e.detail.sectionId}"]`);
    const sectionId = e.detail.sectionId;
    const section = document.querySelector(`#DP--${e.detail.sectionId}`);
    if (sectionId == designPack.settings.id){
      designPack.unload(section);
    }
  });

  window.addEventListener('shopify:block:select', function (e) {
    const section = document.querySelector(`#DP--${e.detail.sectionId}`);
    designPack.goToSlide(e.target.dataset.slideshowIndex);
  });

  designPack.settings = JSON.parse(document.querySelector('[data-dsgn-pck="{{ section_id }}"]').innerHTML);
  const sectionId = {{ section_id | json }};
  const section = document.querySelector(`#DP--${sectionId}`);

  if (sectionId == designPack.settings.id){
    designPack.load(section);
  }
})()
</script>
